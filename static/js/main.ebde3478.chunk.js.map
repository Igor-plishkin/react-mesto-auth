{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/succesIcon.svg","images/errorIcon.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","path","to","exact","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","style","backgroundImage","link","name","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","Object","keys","onClose","src","alt","api","token","groupId","this","url","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_handleResponse","data","body","JSON","stringify","id","PopupWithForm","isOpen","title","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","avatarRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","Login","setEmail","password","setPassword","onLogin","Register","onRegistr","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isSucces","succesIcon","errorIcon","auth","baseUrl","jwt","Authorization","App","history","useHistory","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoggedIn","hasSuccesAuth","setSuccesAuth","isInfoToolTipOpen","setIsInfoToolTipOpen","closeAllPopups","localStorage","getItem","getToken","push","catch","err","console","log","all","getUser","getInitialCards","userData","initialCards","Provider","removeItem","registration","login","setItem","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setAvatar","setUser","setCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ebde3478.chunk.js","sourcesContent":["import { Link, Route, Switch } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n      <div className=\"header__login\">\r\n        <Switch>\r\n          <Route path=\"/sign-in\">\r\n            <Link className=\"header__link\" to=\"/sign-up\">\r\n              Регистрация\r\n            </Link>\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Link className=\"header__link\" to=\"/sign-in\">\r\n              Войти\r\n            </Link>\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <p className=\"header__user\">{props.email}</p>\r\n            <Link className=\"header__link\" to=\"/sign-in\" onClick={props.onSignOut}>\r\n              Выйти\r\n            </Link>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\"\r\n\r\nexport const  CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardDelete, onCardLike}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = `place__delete-btn ${\r\n    isOwn && 'place__delete-btn_active'\r\n  }`;\r\n  const cardLikeButtonClassName = `place__like ${\r\n    isLiked && 'place__like_active'\r\n  }`;\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"place\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div\r\n        className=\"place__image\"\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        onClick={handleClick}\r\n      ></div>\r\n      <div className=\"place__footer\">\r\n        <h2 className=\"place__name\">{card.name}</h2>\r\n        <div className=\"place__like-wrapper\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"place__counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main-content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__wrapper\">\r\n          <button\r\n            className=\"profile__avatar-btn\"\r\n            onClick={props.onEditAvatar}\r\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n          >\r\n            <div className=\"profile__avatar\"></div>\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__title-inner\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                className=\"profile__edit-btn\"\r\n                type=\"button\"\r\n                onClick={props.onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-btn\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copy\">© 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    // Условие что объект не пустой\r\n    <div\r\n      className={`popup popup_zoom-place ${\r\n        Object.keys(props.card).length && \"popup_opened\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container-place\">\r\n        <button\r\n          className=\"popup__close-btn\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          className=\"popup__place-image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        />\r\n        <h2 className=\"popup__place-title\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(token, groupId) {\r\n    this.token = token;\r\n    this.groupId = groupId;\r\n    this.url = \"https://mesto.nomoreparties.co/v1/\";\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUser() {\r\n    return fetch(`${this.url + this.groupId}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUser(data) {\r\n    return fetch(`${this.url + this.groupId}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch(`${this.url + this.groupId}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setCard(data) {\r\n    return fetch(`${this.url + this.groupId}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this.url + this.groupId}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this.url + this.groupId}/cards/likes/${id}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this.url + this.groupId}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this.token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(\"4756f29e-7074-4b91-8a7b-c92b73652806\", \"cohort-24\");\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n      <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\">\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          <button className=\"popup__close-btn\" type=\"reset\" onClick={props.onClose}></button>\r\n          <form\r\n            className=\"popup__form\"\r\n            name={props.name}\r\n            onSubmit={props.onSubmit}\r\n          >\r\n          {props.children}\r\n            <button className=\"popup__submit-btn\" type=\"submit\">\r\n              {props.buttonText}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_name\"\r\n          id=\"profile-name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleNameChange}\r\n          value={name || \"\"}\r\n        />\r\n        <span className=\"popup__error\" id=\"profile-name-error\"></span>\r\n      </div>\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_job\"\r\n          id=\"profile-job\"\r\n          type=\"text\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleDescriptionChange}\r\n          value={description || \"\"}\r\n        />\r\n        <span className=\"popup__error\" id=\"profile-job-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.createRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_url\"\r\n          id=\"avatar-url\"\r\n          type=\"url\"\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error\" id=\"avatar-url-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n\r\n    setLink(\"\");\r\n    setName(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-place\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_name\"\r\n          id=\"place-name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          onChange={handleNameChange}\r\n          value={name}\r\n        />\r\n        <span className=\"popup__error\" id=\"place-name-error\">\r\n          Ошибка\r\n        </span>\r\n      </div>\r\n      <div className=\"popup__form-field\">\r\n        <input\r\n          className=\"popup__input popup__input_url\"\r\n          id=\"place-url\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          onChange={handleLinkChange}\r\n          value={link}\r\n        />\r\n        <span className=\"popup__error\" id=\"place-url-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleLoginSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onLogin(email, password);\r\n  }\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n      <form className=\"login__form\" onSubmit={handleLoginSubmit}>\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={handleEmailChange}\r\n          value={email}\r\n        />\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={handlePasswordChange}\r\n          value={password}\r\n        />\r\n        <button className=\"login__submit-btn\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleRegistrSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onRegistr(email, password);\r\n  }\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Регистрация</h2>\r\n      <form className=\"login__form\" onSubmit={handleRegistrSubmit}>\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={handleEmailChange}\r\n          value={email}\r\n        />\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={handlePasswordChange}\r\n          value={password}\r\n        />\r\n        <button className=\"login__submit-btn\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <Link className=\"login__link\" to=\"/sign-in\">\r\n        Уже зарегистрированы? Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/succesIcon.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/errorIcon.d4ce2a26.svg\";","import React from \"react\";\r\nimport succesIcon from \"../images/succesIcon.svg\";\r\nimport errorIcon from \"../images/errorIcon.svg\";\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container popup__info-tool\">\r\n        <button\r\n          className=\"popup__close-btn\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        {props.isSucces ? (\r\n          <>\r\n            <img\r\n              className=\"popup__info-img\"\r\n              src={succesIcon}\r\n              alt=\"Вы успешно зарегистрировались!\"\r\n            />\r\n            <p className=\"popup__info-message\">\r\n              Вы успешно зарегистрировались!\r\n            </p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <img\r\n              className=\"popup__info-img\"\r\n              src={errorIcon}\r\n              alt=\"Что-то пошло не так!\r\n              Попробуйте ещё раз.\"\r\n            />\r\n            <p className=\"popup__info-message\">\r\n              Что-то пошло не так! Попробуйте ещё раз.\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","class Auth {\r\n  constructor(baseUrl) {\r\n    this.baseUrl = baseUrl;\r\n  }\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  registration(email, password) {\r\n    return fetch(`${this.baseUrl}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  login(email, password) {\r\n    return fetch(`${this.baseUrl}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n  getToken(jwt) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth(\"https://auth.nomoreparties.co\");\r\n\r\nexport default auth;\r\n","import React from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport auth from \"../utils/auth\";\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  const [hasSuccesAuth, setSuccesAuth] = React.useState(false);\r\n\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n\r\n    if (jwt) {\r\n      auth\r\n        .getToken(jwt)\r\n        .then((res) => {\r\n          setLoggedIn(true);\r\n          setEmail(res.data.email);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          if (err.status === 400) {\r\n            console.log(\"400 — Токен не передан или передан не в том формате\");\r\n          } else if (err.status === 401) {\r\n            console.log(\"401 — Переданный токен некорректен\");\r\n          }\r\n        });\r\n    }\r\n  }, [history]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUser(), api.getInitialCards()])\r\n      .then(([userData, initialCards]) => {\r\n        setCurrentUser(userData);\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsInfoToolTipOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUser(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .setAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .setCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem(\"jwt\");\r\n    setLoggedIn(false);\r\n    history.push(\"/sign-in\");\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    auth\r\n      .login(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setLoggedIn(true);\r\n        setEmail(email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        if (err.status === 400) {\r\n          console.log(\"400 - не передано одно из полей\");\r\n        } else if (err.status === 401) {\r\n          console.log(\"401 - пользователь с email не найден\");\r\n        }\r\n        setIsInfoToolTipOpen(true);\r\n        setSuccesAuth(false);\r\n      });\r\n  }\r\n\r\n  function handleRegistr(email, password) {\r\n    auth\r\n      .registration(email, password)\r\n      .then((res) => {\r\n        setSuccesAuth(true);\r\n        setIsInfoToolTipOpen(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch((err) => {\r\n        if (err.status === 400) {\r\n          console.log(\"400 - некорректно заполнено одно из полей\");\r\n        }\r\n        setIsInfoToolTipOpen(true);\r\n        setSuccesAuth(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header email={email} onSignOut={handleSignOut} />\r\n        <Switch>\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegistr={handleRegistr} />\r\n          </Route>\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n          <ProtectedRoute\r\n            component={Main}\r\n            path=\"/\"\r\n            exact\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditProfile={handleEditProfileClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            loggedIn={loggedIn}\r\n          />\r\n        </Switch>\r\n        <Footer />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <InfoTooltip\r\n          isSucces={hasSuccesAuth}\r\n          onClose={closeAllPopups}\r\n          isOpen={isInfoToolTipOpen}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename=\"https://igor-plishkin.github.io/react-mesto-auth\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}